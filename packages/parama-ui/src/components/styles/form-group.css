.form-group {
  @apply flex relative rounded-lg shadow-sm;
}

.form-group > .form-control {
  @apply shadow-none;
}

.form-group:has(.form-group-addon-start ~ .form-control),
.form-group:has(.form-control ~ .form-group-addon-end) {
  @apply flex h-10 w-full shadow-sm rounded-lg border border-gray-300 bg-white dark:border-gray-400 dark:bg-transparent p-0 text-base ring-offset-transparent;
}

.form-group:has(.form-group-addon-start ~ .form-control:focus),
.form-group:has(.form-control:focus ~ .form-group-addon-end) {
  @apply outline-none border-primary/80 ring-2 ring-primary/40 md:text-sm dark:border-background-dark dark:text-foreground-dark dark:border-primary/60 dark:bg-transparent dark:ring-offset-transparent dark:file:text-slate-50 dark:placeholder:text-foreground-dark/50 dark:ring-primary-light/60;
}

.form-group-addon-start {
  @apply inline-flex items-center pl-3 max-w-20 truncate after:content-[''] after:h-[75%] after:w-[1px] after:bg-neutral-300;
}

.form-group-addon-end {
  @apply inline-flex items-center pr-3 max-w-20 truncate before:content-[''] before:h-[75%] before:w-[1px] before:bg-neutral-300;
}

.form-group-addon-start ~ .form-control,
.form-control:has(~ .form-group-addon-end) {
  @apply focus-visible:outline-none focus-visible:border-none focus-visible:ring-0 dark:focus-visible:border-none dark:bg-transparent dark:ring-0 dark:focus-visible:ring-0 inline-flex -mt-[1px] px-3 outline-none border-none bg-transparent flex-1;
}

.form-group-addon-start + .form-group-prefix,
.form-group-suffix:has(+ .form-group-addon-end) {
  @apply inline-flex outline-none border-none;
}

.form-group-addon-start + .form-group-prefix {
  @apply pr-0;
}

.form-group-suffix:has(+ .form-group-addon-end) {
  @apply pl-0;
}

.form-group-prefix:has(~ .form-group-addon-end) {
  @apply border-0 border-r border-gray-300;
}

.form-group-addon-start ~ .form-group-suffix {
  @apply border-0 border-l border-gray-300;
}

.form-group-addon-start:has(select),
.form-group-addon-end:has(select) {
  @apply pointer-events-auto p-0 max-w-max w-auto;
}

.form-group-addon-start select,
.form-group-addon-end select {
  @apply h-full rounded-lg border-0 bg-transparent py-0 px-3 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm;
}

.form-group-addon-start button {
  @apply relative h-full focus-visible:outline-none focus-visible:border-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:ring-inset -mr-px inline-flex items-center gap-x-1.5 rounded-l-lg px-3 py-[0.4rem] text-sm font-medium text-neutral-800;
}

.form-group-addon-end button {
  @apply relative h-full focus-visible:outline-none focus-visible:border-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:ring-inset -ml-px inline-flex items-center gap-x-1.5 rounded-r-lg px-3 py-[0.4rem] text-sm font-medium text-neutral-800;
}

.form-group-addon-start:has(button),
.form-group-addon-end:has(button) {
  @apply p-0;
}

.form-group-prefix {
  @apply inline-flex items-center rounded-l-lg border border-r-0 border-gray-300 dark:border-background-dark px-3 text-gray-500 sm:text-sm;
}

.form-group-prefix + .form-control {
  @apply rounded-l-none;
}

.form-group-suffix {
  @apply inline-flex items-center rounded-r-lg border border-l-0 border-gray-300 dark:border-background-dark px-3 text-gray-500 sm:text-sm;
}
